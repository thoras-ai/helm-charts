Default matches snapshot:
  1: |
    apiVersion: apps/v1
    kind: DaemonSet
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: thoras
        helm.sh/chart: thoras-4.7.0
      name: thoras-agent
      namespace: NAMESPACE
    spec:
      selector:
        matchLabels:
          app: thoras-agent
      template:
        metadata:
          annotations:
            prometheus.io/port: "9101"
            prometheus.io/scrape: "true"
          labels:
            app: thoras-agent
            app.kubernetes.io/instance: RELEASE-NAME
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: thoras
            helm.sh/chart: thoras-4.7.0
        spec:
          containers:
            - command:
                - /app/agent
              env:
                - name: SERVICE_LOG_LEVEL
                  value: info
                - name: SERVICE_FREQUENCY
                  value: "15"
                - name: SERVICE_PORT
                  value: "9101"
                - name: SERVICE_SLACK_WEBHOOK_URL
                  valueFrom:
                    secretKeyRef:
                      key: webhookUrl
                      name: thoras-slack
                - name: SERVICE_SLACK_ERRORS_ENABLED
                  value: "false"
                - name: SERVICE_CLUSTER_NAME
                  value: ""
                - name: SERVICE_QUERIES_PER_SECOND
                  value: "50"
              image: us-east4-docker.pkg.dev/thoras-registry/platform/services:TEST
              imagePullPolicy: IfNotPresent
              name: thoras-agent
              ports:
                - containerPort: 9101
              resources:
                limits:
                  cpu: 1
                  memory: 1Gi
                requests:
                  cpu: 200m
                  memory: 128Mi
              securityContext:
                privileged: true
          hostNetwork: true
          serviceAccountName: thoras-agent
          terminationGracePeriodSeconds: 30
          tolerations:
            - effect: NoSchedule
              operator: Exists
